{"version":3,"sources":["../../../src/parser/pipes/identifyBodyUntil.js"],"names":["identifyBodyUntil","predicate","children","context","rest","body","nextChild","type","NodeTypes","WHITESPACE","COMMENT"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,MAAMA,iBAAiB,GAAG,kBAAM,CAACC,SAAD,WAA+C;AAAA,MAAnC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAmC;AAAA,MAAXC,IAAW;;AAC7E,MAAIC,IAAI,GAAG,EAAX;;AAEA,SAAO,mBAAOH,QAAP,IAAmB,CAAnB,IAAwB,CAACD,SAAS,CAAC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAD,CAAzC,EAAkE;AAChE,UAAMG,SAAS,GAAG,iBAAKJ,QAAL,CAAlB,CADgE,CAEhE;;AACAA,IAAAA,QAAQ,GAAG,iBAAKA,QAAL,CAAX;;AACA,QAAII,SAAS,CAACC,IAAV,KAAmBC,qBAAUC,UAA7B,IAA2CH,SAAS,CAACC,IAAV,KAAmBC,qBAAUE,OAA5E,EAAqF;AACnFL,MAAAA,IAAI,GAAG,mBAAOC,SAAP,EAAkBD,IAAlB,CAAP;AACD;AACF;;AAED,yCAAYD,IAAZ;AAAkBC,IAAAA,IAAlB;AAAwBH,IAAAA,QAAxB;AAAkCC,IAAAA;AAAlC;AACD,CAbyB,CAA1B;eAeeH,iB","sourcesContent":["import { append, curry, head, length, tail } from 'ramda'\n\nimport { NodeTypes } from '../../constants'\n// import Comment from '../nodes/Comment'\n// import Declaration from '../nodes/Declaration'\n// import Statement from '../nodes/Statement'\n// import Whitespace from '../nodes/Whitespace'\n// import { identifyNextNode } from '../util'\n\n// NOTE BRN: This needs to be slightly different based on which type of block\n// this is (allow, function, etc...)\n// const BODY_IDENTIFIERS = [Comment, Whitespace, Declaration, Statement]\n// const identifyBodyNode = identifyNextNode(BODY_IDENTIFIERS)\n\nconst identifyBodyUntil = curry((predicate, { children, context, ...rest }) => {\n  let body = []\n\n  while (length(children) > 0 && !predicate({ children, context })) {\n    const nextChild = head(children)\n    // const node = identifyBodyNode(context, nextChild)\n    children = tail(children)\n    if (nextChild.type !== NodeTypes.WHITESPACE && nextChild.type !== NodeTypes.COMMENT) {\n      body = append(nextChild, body)\n    }\n  }\n\n  return { ...rest, body, children, context }\n})\n\nexport default identifyBodyUntil\n"],"file":"identifyBodyUntil.js"}